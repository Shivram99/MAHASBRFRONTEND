<div class="upload-wrapper">
  <!-- Validation Instructions -->
  <div class="instructions mb-3">
   <p>{{ 'upload.ALLOWED_TYPES' | translate }}</p>
    <p>{{ 'upload.DRAG_DROP' | translate }}</p>
  </div>

  <!-- Upload Area -->
  <div class="upload-container"
       (drop)="onDrop($event)"
       (dragover)="onDragOver($event)">
    <div class="upload-box">
      <i class="cloud-icon">â˜ï¸</i>
      <p class="text-muted">{{'upload.DRAG_TEXT' | translate }}</p>
      <p class="text-muted mb-2">{{ 'upload.OR' | translate }}</p>
      <input type="file"
             multiple
             hidden
             #fileInput
             accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
             (change)="onFileSelected($event)">
      <button type="button" class="browse-btn" (click)="fileInput.click()">{{'upload.BROWSE' | translate }}</button>
    </div>
  </div>

  <!-- Selected Files List -->
  <div *ngIf="selectedFiles.length > 0" class="file-list-wrapper mt-4">
    <h5 class="mb-3">âœ… Selected Files</h5>
    <ul class="file-list">
      <li *ngFor="let file of selectedFiles; let i = index" class="file-item">
        <span class="file-name">
          {{ file.name }} ({{ file.size / 1024 | number:'1.0-0' }} KB)
        </span>
        <button type="button" class="remove-btn" (click)="removeFile(i)">ğŸ—‘ï¸</button>
      </li>
    </ul>
  </div>

  <!-- Upload Progress -->
  <div *ngIf="uploadProgress > 0" class="progress-wrapper mt-3">
    <progress [value]="uploadProgress" max="100"></progress>
    <span>{{ uploadProgress }}%</span>
  </div>
  
  <div *ngIf="validationMessages.length > 0" class="error-messages">
  <ul>
    <li *ngFor="let msg of validationMessages">{{ msg }}</li>
  </ul>
</div>

<div *ngIf="successMessage" class="success-message mt-3">
    {{ successMessage }}
  </div>
  <!-- Upload Button -->
  <div class="upload-btn-wrapper mt-4">
    <button type="button"
            class="upload-btn"
            [disabled]="selectedFiles.length === 0"
            (click)="uploadFiles()">
      {{ 'upload.UPLOAD' | translate }}
    </button>
  </div>
</div>
